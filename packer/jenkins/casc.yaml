jenkins:
  systemMessage: "Automating Jenkins Setup using Docker and Jenkins Configuration as Code"

  remotingSecurity:
    enabled: true

  securityRealm:
    local:
      allowsSignup: false
      users:
        - id: "${JENKINS_ADMIN_ID}"
          password: "${JENKINS_ADMIN_PASSWORD}"

  authorizationStrategy:
    globalMatrix:
      permissions:
        - "Overall/Administer:admin"
        - "Overall/Read:authenticated"

security:
  gitHostKeyVerificationConfiguration:
    sshHostKeyVerificationStrategy: "noHostKeyVerificationStrategy"

  queueItemAuthenticator:
    authenticators:
      - global:
          strategy: triggeringUsersAuthorizationStrategy

credentials:
  system:
    domainCredentials:
      - credentials:
          - usernamepassword:
              scope: GLOBAL
              id: "docker-registry-credentials"
              username: "${QUAY_ADMIN_ID}"
              password: "${QUAY_PASSWORD}"
              description: "Docker quay creds"
          - usernamepassword:
              scope: GLOBAL
              id: "token-github"
              username: "${USERNAME}"
              password: "${GH_TOKEN}"
              description: "Github token"
          - string:
              scope: GLOBAL
              id: "google-credentials"
              secret: "${GOOGLE_CREDENTIALS}"
              description: "Google credentials service account"
          - string:
              scope: GLOBAL
              id: "cluster-name"
              secret: "${CLUSTER_NAME}"
              description: "Cluster name of GKE"
          - string:
              scope: GLOBAL
              id: "image-pull-secret"
              secret: "${QUAY_SECRET}"
              description: "Secret of quay repository"
          - string:
              scope: GLOBAL
              id: "perform-health-check-image"
              secret: "${PERFORM_HEALTH_CHECK_IMAGE}"
              description: "Perform health check image URL"
          - string:
              scope: GLOBAL
              id: "kafka-topic"
              secret: "${KAFKA_TOPIC}"
              description: "Perform health check image URL"
          - string:
              scope: GLOBAL
              id: "operator-namespace"
              secret: "${OPERATOR_NAMESPACE}"
              description: "Namespace of operator"
          
unclassified:
  location:
    url: "http://127.0.0.1:8080/"

jobs:
  - file: "/usr/local/webapp.groovy"
  - file: "/usr/local/webapp-db.groovy"
  - file: "/usr/local/webapp-helm-chart.groovy"
  - file: "/usr/local/helm-dependencies.groovy"
  - file: "/usr/local/health-check-results.groovy"
  - file: "/usr/local/perform-health-check.groovy"
  - file: "/usr/local/health-check-operator.groovy"


